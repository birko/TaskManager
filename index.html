<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./TaskManager.js" type="text/javascript"></script>
    <title>TaskManager Site Title</title>
  </head>
    <body>
        <h1>TaskManager Example</h1>
        <div id="time">
        </div>
        <div id="frame">
        </div>
        <script type="text/javascript">
            const frameElement = document.getElementById("frame");
            const timeElement = document.getElementById("time");
            function task() {
                frameElement.innerHTML += "Task Started";
                TaskManager.invokeScheduledTask(1000, 0, sheduleTask);
            };
            function secondTask() {
                frameElement.innerHTML += "<br />Task Started after 10 seconds";
            };

            function time() {
                const currentdate = new Date(); 
                const datetime = currentdate.getDate().toString().padStart(2, '0') + "."
                    + (currentdate.getMonth() +1).toString().padStart(2, '0')  + "." 
                    + currentdate.getFullYear().toString().padStart(4, '0') + " @ "  
                    + currentdate.getHours().toString().padStart(2, '0') + ":"  
                    + currentdate.getMinutes().toString().padStart(2, '0') + ":" 
                    + currentdate.getSeconds().toString().padStart(2, '0');
                    timeElement.innerHTML = "<p>Current Time: " + datetime + "</p>";
            }

            function sheduleTask() {
                TaskManager.invokeRepeatedTask(1000, 0, time);
            };

            TaskManager.invokeTask(0, task);
            TaskManager.invokeScheduledTask(10000, 0, secondTask);
        </script>
    </body>
</html>